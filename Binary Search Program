
#include <stdio.h>

int main()
{
    int n, low, mid, high, key;

    printf("\nEnter the size of the array elements: ");
    scanf("%d", &n);

    int arr[n];

    printf("\nEnter the elements in the array: ");
    for(int i=0; i<n; i++)
    {
        scanf("%d", &arr[i]);
    }

    printf("\nThe inputed elements in the array are: ");
    for(int i=0; i<n; i++)
    {
        printf("%d\t", arr[i]);
    }

    printf("\n\nEnter the element which is to be searched in the inputed array: ");
    scanf("%d", &key);

    low = 0, high = n-1;

    while(low <= high)
    {
        mid = (low + high)/2;

        if(key == arr[mid])
        {
            printf("\nThe element %d is at %d position within the inputed array\n", key, mid);

            int i = mid - 1;

            while(i >= 0 && arr[i] == key)
            {
                printf("The element %d is at %d position within the inputed array\n", key, i+1);
                i--;
            }

            i = mid + 1;

            while(i < n && arr[i] == key)
            {
                printf("The element %d is at %d position within the inputed  array\n",key, i+1);
                i++;
            }

            return 0;
        }

        else if(key < arr[mid])
        {
            high = mid - 1;
        }

        else
        {
            low = mid + 1;
        }
    }

    printf("\nThe element %d is not present within the inputed array\n", key);
    return 0;
}
